<html>
<head>
<style>
  /*
    stacking order from back-to-front is:
      1. links
      2. image
      3. link masks
      4. image mask
    IE requires a BG to register click event.
  */

  .alphapunch { position: relative; }
  .alphapunch img { position: relative; z-index: 2; }
  .aptarget { display: inline-block; }
  .apmask span { z-index: 3; background: rgba(0,0,0,0.001); }
  img + .apmask span { z-index: 4; }
  .alphapunch ul {position:absolute; left:140px; top:120px; }
  .alphapunch li {list-style-type:none;}
</style>


<body>

<!-- container indicating alphapunching -->
<div class="alphapunch">

  <!--
    image you alphaPunch'd. needs an ID
    if you run into trouble positioning it, put it in a container element,
    like <figure>
  -->
  <figure><img id="donut" src="donut.png" alt="donut" /></figure>

  <!--
    "target" links you want to click through to. they all need IDs.
    if you run into trouble positioning them, put them in a container
    element, like <nav> or <ul> or <div>
  -->
  <ul>
    <li><a class="aptarget" id="foo" href="javascript:alert('foo')">foo</a></li>
    <li><a class="aptarget" id="bar" href="javascript:alert('bar')">bar</a></li>
  </ul>

</div>

<!-- alphapunch uses some jQuery; it must be present -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>

<script>
(function() {
  var coords = { donut: [{ x: 167, y: 282 }, { x: 159, y: 282 }, { x: 158, y: 283 }, { x: 139, y: 283 }, { x: 138, y: 282 }, { x: 132, y: 282 }, { x: 131, y: 281 }, { x: 127, y: 281 }, { x: 126, y: 280 }, { x: 122, y: 280 }, { x: 121, y: 279 }, { x: 119, y: 279 }, { x: 118, y: 278 }, { x: 115, y: 278 }, { x: 114, y: 277 }, { x: 112, y: 277 }, { x: 111, y: 276 }, { x: 109, y: 276 }, { x: 108, y: 275 }, { x: 106, y: 275 }, { x: 105, y: 274 }, { x: 103, y: 274 }, { x: 102, y: 273 }, { x: 101, y: 273 }, { x: 100, y: 272 }, { x: 98, y: 272 }, { x: 97, y: 271 }, { x: 96, y: 271 }, { x: 95, y: 270 }, { x: 94, y: 270 }, { x: 93, y: 269 }, { x: 92, y: 269 }, { x: 91, y: 268 }, { x: 90, y: 268 }, { x: 89, y: 267 }, { x: 88, y: 267 }, { x: 87, y: 266 }, { x: 86, y: 266 }, { x: 85, y: 265 }, { x: 84, y: 265 }, { x: 83, y: 264 }, { x: 82, y: 263 }, { x: 81, y: 263 }, { x: 80, y: 262 }, { x: 79, y: 262 }, { x: 78, y: 261 }, { x: 77, y: 260 }, { x: 76, y: 260 }, { x: 75, y: 259 }, { x: 74, y: 258 }, { x: 73, y: 258 }, { x: 72, y: 257 }, { x: 71, y: 256 }, { x: 70, y: 256 }, { x: 69, y: 255 }, { x: 68, y: 254 }, { x: 67, y: 254 }, { x: 66, y: 253 }, { x: 65, y: 252 }, { x: 64, y: 252 }, { x: 63, y: 251 }, { x: 62, y: 250 }, { x: 61, y: 249 }, { x: 60, y: 248 }, { x: 59, y: 248 }, { x: 58, y: 247 }, { x: 57, y: 246 }, { x: 56, y: 245 }, { x: 55, y: 244 }, { x: 54, y: 243 }, { x: 53, y: 242 }, { x: 52, y: 241 }, { x: 51, y: 240 }, { x: 50, y: 239 }, { x: 49, y: 238 }, { x: 48, y: 237 }, { x: 47, y: 236 }, { x: 46, y: 235 }, { x: 45, y: 234 }, { x: 44, y: 233 }, { x: 44, y: 232 }, { x: 43, y: 231 }, { x: 42, y: 230 }, { x: 41, y: 229 }, { x: 40, y: 228 }, { x: 40, y: 227 }, { x: 39, y: 226 }, { x: 38, y: 225 }, { x: 38, y: 224 }, { x: 37, y: 223 }, { x: 36, y: 222 }, { x: 36, y: 221 }, { x: 35, y: 220 }, { x: 34, y: 219 }, { x: 34, y: 218 }, { x: 33, y: 217 }, { x: 33, y: 216 }, { x: 32, y: 215 }, { x: 31, y: 214 }, { x: 31, y: 212 }, { x: 30, y: 211 }, { x: 29, y: 210 }, { x: 29, y: 208 }, { x: 28, y: 207 }, { x: 28, y: 206 }, { x: 27, y: 205 }, { x: 27, y: 204 }, { x: 26, y: 203 }, { x: 26, y: 201 }, { x: 25, y: 200 }, { x: 25, y: 199 }, { x: 24, y: 198 }, { x: 24, y: 196 }, { x: 23, y: 195 }, { x: 23, y: 193 }, { x: 22, y: 192 }, { x: 22, y: 190 }, { x: 21, y: 189 }, { x: 21, y: 186 }, { x: 20, y: 185 }, { x: 20, y: 182 }, { x: 19, y: 181 }, { x: 19, y: 177 }, { x: 18, y: 176 }, { x: 18, y: 172 }, { x: 17, y: 171 }, { x: 17, y: 164 }, { x: 16, y: 163 }, { x: 16, y: 151 }, { x: 17, y: 150 }, { x: 17, y: 143 }, { x: 18, y: 142 }, { x: 18, y: 136 }, { x: 19, y: 135 }, { x: 19, y: 131 }, { x: 20, y: 130 }, { x: 20, y: 127 }, { x: 21, y: 126 }, { x: 21, y: 124 }, { x: 22, y: 123 }, { x: 22, y: 121 }, { x: 23, y: 120 }, { x: 23, y: 118 }, { x: 24, y: 117 }, { x: 24, y: 115 }, { x: 25, y: 114 }, { x: 25, y: 112 }, { x: 26, y: 111 }, { x: 26, y: 110 }, { x: 27, y: 109 }, { x: 27, y: 107 }, { x: 28, y: 106 }, { x: 28, y: 105 }, { x: 29, y: 104 }, { x: 29, y: 103 }, { x: 30, y: 102 }, { x: 30, y: 101 }, { x: 31, y: 100 }, { x: 31, y: 99 }, { x: 32, y: 98 }, { x: 32, y: 97 }, { x: 33, y: 96 }, { x: 34, y: 95 }, { x: 34, y: 94 }, { x: 35, y: 93 }, { x: 35, y: 92 }, { x: 36, y: 91 }, { x: 37, y: 90 }, { x: 37, y: 89 }, { x: 38, y: 88 }, { x: 38, y: 87 }, { x: 39, y: 86 }, { x: 40, y: 85 }, { x: 40, y: 84 }, { x: 41, y: 83 }, { x: 42, y: 82 }, { x: 43, y: 81 }, { x: 43, y: 80 }, { x: 44, y: 79 }, { x: 45, y: 78 }, { x: 46, y: 77 }, { x: 46, y: 76 }, { x: 47, y: 75 }, { x: 48, y: 74 }, { x: 49, y: 73 }, { x: 50, y: 72 }, { x: 51, y: 71 }, { x: 52, y: 70 }, { x: 52, y: 69 }, { x: 53, y: 68 }, { x: 54, y: 67 }, { x: 55, y: 66 }, { x: 56, y: 65 }, { x: 57, y: 64 }, { x: 58, y: 63 }, { x: 59, y: 62 }, { x: 60, y: 61 }, { x: 61, y: 60 }, { x: 62, y: 59 }, { x: 63, y: 58 }, { x: 64, y: 58 }, { x: 65, y: 57 }, { x: 66, y: 56 }, { x: 67, y: 55 }, { x: 68, y: 54 }, { x: 69, y: 53 }, { x: 70, y: 52 }, { x: 71, y: 52 }, { x: 72, y: 51 }, { x: 73, y: 50 }, { x: 74, y: 49 }, { x: 75, y: 48 }, { x: 76, y: 48 }, { x: 77, y: 47 }, { x: 78, y: 46 }, { x: 79, y: 46 }, { x: 80, y: 45 }, { x: 81, y: 44 }, { x: 82, y: 44 }, { x: 83, y: 43 }, { x: 84, y: 42 }, { x: 85, y: 42 }, { x: 86, y: 41 }, { x: 87, y: 40 }, { x: 88, y: 39 }, { x: 89, y: 38 }, { x: 90, y: 38 }, { x: 91, y: 37 }, { x: 92, y: 36 }, { x: 95, y: 36 }, { x: 96, y: 35 }, { x: 96, y: 31 }, { x: 97, y: 30 }, { x: 99, y: 30 }, { x: 100, y: 29 }, { x: 99, y: 28 }, { x: 100, y: 27 }, { x: 100, y: 26 }, { x: 101, y: 26 }, { x: 102, y: 26 }, { x: 103, y: 25 }, { x: 105, y: 25 }, { x: 106, y: 24 }, { x: 108, y: 24 }, { x: 109, y: 25 }, { x: 112, y: 25 }, { x: 113, y: 24 }, { x: 113, y: 23 }, { x: 114, y: 23 }, { x: 116, y: 23 }, { x: 117, y: 22 }, { x: 125, y: 22 }, { x: 126, y: 21 }, { x: 126, y: 19 }, { x: 127, y: 18 }, { x: 128, y: 18 }, { x: 129, y: 19 }, { x: 130, y: 19 }, { x: 131, y: 20 }, { x: 134, y: 20 }, { x: 135, y: 19 }, { x: 137, y: 19 }, { x: 137, y: 20 }, { x: 138, y: 21 }, { x: 140, y: 21 }, { x: 141, y: 20 }, { x: 142, y: 19 }, { x: 146, y: 19 }, { x: 147, y: 18 }, { x: 148, y: 19 }, { x: 149, y: 20 }, { x: 152, y: 20 }, { x: 153, y: 19 }, { x: 153, y: 18 }, { x: 154, y: 19 }, { x: 155, y: 20 }, { x: 160, y: 20 }, { x: 161, y: 21 }, { x: 162, y: 21 }, { x: 162, y: 22 }, { x: 163, y: 23 }, { x: 164, y: 24 }, { x: 165, y: 24 }, { x: 166, y: 23 }, { x: 167, y: 23 }, { x: 167, y: 24 }, { x: 167, y: 25 }, { x: 168, y: 26 }, { x: 169, y: 27 }, { x: 170, y: 27 }, { x: 171, y: 28 }, { x: 173, y: 28 }, { x: 174, y: 27 }, { x: 175, y: 27 }, { x: 176, y: 28 }, { x: 177, y: 28 }, { x: 178, y: 27 }, { x: 179, y: 26 }, { x: 179, y: 23 }, { x: 180, y: 24 }, { x: 181, y: 25 }, { x: 184, y: 25 }, { x: 185, y: 24 }, { x: 186, y: 25 }, { x: 186, y: 26 }, { x: 187, y: 27 }, { x: 188, y: 28 }, { x: 189, y: 28 }, { x: 190, y: 27 }, { x: 191, y: 26 }, { x: 193, y: 26 }, { x: 194, y: 27 }, { x: 194, y: 29 }, { x: 195, y: 30 }, { x: 197, y: 30 }, { x: 198, y: 29 }, { x: 199, y: 29 }, { x: 200, y: 30 }, { x: 203, y: 30 }, { x: 203, y: 31 }, { x: 203, y: 33 }, { x: 204, y: 34 }, { x: 204, y: 36 }, { x: 205, y: 37 }, { x: 207, y: 37 }, { x: 208, y: 36 }, { x: 209, y: 37 }, { x: 209, y: 38 }, { x: 210, y: 39 }, { x: 214, y: 39 }, { x: 215, y: 38 }, { x: 215, y: 36 }, { x: 214, y: 35 }, { x: 215, y: 36 }, { x: 216, y: 37 }, { x: 217, y: 37 }, { x: 217, y: 38 }, { x: 217, y: 40 }, { x: 218, y: 41 }, { x: 219, y: 42 }, { x: 221, y: 42 }, { x: 222, y: 41 }, { x: 223, y: 40 }, { x: 224, y: 40 }, { x: 224, y: 41 }, { x: 225, y: 42 }, { x: 226, y: 42 }, { x: 227, y: 43 }, { x: 228, y: 43 }, { x: 229, y: 44 }, { x: 229, y: 45 }, { x: 230, y: 46 }, { x: 231, y: 47 }, { x: 232, y: 47 }, { x: 233, y: 48 }, { x: 234, y: 49 }, { x: 235, y: 50 }, { x: 236, y: 51 }, { x: 237, y: 52 }, { x: 238, y: 53 }, { x: 240, y: 53 }, { x: 241, y: 54 }, { x: 241, y: 55 }, { x: 242, y: 56 }, { x: 246, y: 56 }, { x: 246, y: 57 }, { x: 246, y: 60 }, { x: 247, y: 61 }, { x: 248, y: 62 }, { x: 249, y: 62 }, { x: 249, y: 63 }, { x: 249, y: 65 }, { x: 250, y: 66 }, { x: 250, y: 67 }, { x: 251, y: 68 }, { x: 252, y: 69 }, { x: 254, y: 69 }, { x: 255, y: 70 }, { x: 255, y: 72 }, { x: 256, y: 73 }, { x: 257, y: 74 }, { x: 258, y: 74 }, { x: 258, y: 75 }, { x: 258, y: 76 }, { x: 259, y: 77 }, { x: 260, y: 77 }, { x: 261, y: 78 }, { x: 261, y: 79 }, { x: 262, y: 80 }, { x: 262, y: 83 }, { x: 263, y: 84 }, { x: 264, y: 85 }, { x: 265, y: 85 }, { x: 266, y: 86 }, { x: 266, y: 91 }, { x: 267, y: 92 }, { x: 268, y: 93 }, { x: 270, y: 93 }, { x: 270, y: 94 }, { x: 271, y: 95 }, { x: 268, y: 95 }, { x: 267, y: 96 }, { x: 267, y: 103 }, { x: 268, y: 104 }, { x: 269, y: 105 }, { x: 271, y: 105 }, { x: 272, y: 104 }, { x: 272, y: 101 }, { x: 273, y: 101 }, { x: 274, y: 102 }, { x: 274, y: 104 }, { x: 275, y: 105 }, { x: 276, y: 106 }, { x: 276, y: 109 }, { x: 277, y: 110 }, { x: 278, y: 111 }, { x: 279, y: 112 }, { x: 278, y: 113 }, { x: 278, y: 117 }, { x: 279, y: 118 }, { x: 281, y: 118 }, { x: 282, y: 119 }, { x: 282, y: 120 }, { x: 281, y: 121 }, { x: 281, y: 123 }, { x: 280, y: 124 }, { x: 280, y: 129 }, { x: 281, y: 130 }, { x: 281, y: 134 }, { x: 282, y: 135 }, { x: 282, y: 138 }, { x: 283, y: 139 }, { x: 284, y: 140 }, { x: 285, y: 141 }, { x: 284, y: 142 }, { x: 284, y: 144 }, { x: 283, y: 145 }, { x: 283, y: 150 }, { x: 282, y: 151 }, { x: 281, y: 152 }, { x: 281, y: 154 }, { x: 282, y: 155 }, { x: 282, y: 156 }, { x: 283, y: 157 }, { x: 283, y: 163 }, { x: 282, y: 164 }, { x: 282, y: 168 }, { x: 281, y: 169 }, { x: 281, y: 170 }, { x: 282, y: 171 }, { x: 282, y: 174 }, { x: 281, y: 174 }, { x: 280, y: 175 }, { x: 280, y: 179 }, { x: 281, y: 180 }, { x: 280, y: 180 }, { x: 279, y: 179 }, { x: 276, y: 179 }, { x: 275, y: 180 }, { x: 275, y: 181 }, { x: 276, y: 182 }, { x: 276, y: 184 }, { x: 277, y: 185 }, { x: 277, y: 186 }, { x: 276, y: 186 }, { x: 275, y: 187 }, { x: 273, y: 187 }, { x: 272, y: 188 }, { x: 272, y: 190 }, { x: 271, y: 190 }, { x: 270, y: 191 }, { x: 270, y: 193 }, { x: 271, y: 194 }, { x: 271, y: 196 }, { x: 272, y: 197 }, { x: 273, y: 197 }, { x: 273, y: 198 }, { x: 272, y: 199 }, { x: 271, y: 198 }, { x: 269, y: 198 }, { x: 268, y: 199 }, { x: 267, y: 200 }, { x: 267, y: 201 }, { x: 266, y: 202 }, { x: 266, y: 204 }, { x: 265, y: 205 }, { x: 264, y: 206 }, { x: 264, y: 208 }, { x: 263, y: 209 }, { x: 263, y: 210 }, { x: 262, y: 211 }, { x: 261, y: 212 }, { x: 261, y: 213 }, { x: 260, y: 214 }, { x: 260, y: 215 }, { x: 259, y: 216 }, { x: 259, y: 217 }, { x: 258, y: 218 }, { x: 257, y: 219 }, { x: 257, y: 220 }, { x: 256, y: 221 }, { x: 255, y: 222 }, { x: 255, y: 223 }, { x: 254, y: 224 }, { x: 253, y: 225 }, { x: 252, y: 226 }, { x: 252, y: 227 }, { x: 251, y: 228 }, { x: 250, y: 229 }, { x: 249, y: 230 }, { x: 249, y: 231 }, { x: 248, y: 232 }, { x: 247, y: 233 }, { x: 246, y: 234 }, { x: 245, y: 235 }, { x: 244, y: 236 }, { x: 243, y: 237 }, { x: 243, y: 238 }, { x: 242, y: 239 }, { x: 241, y: 240 }, { x: 240, y: 241 }, { x: 239, y: 242 }, { x: 238, y: 243 }, { x: 237, y: 244 }, { x: 236, y: 245 }, { x: 235, y: 246 }, { x: 234, y: 247 }, { x: 233, y: 248 }, { x: 233, y: 249 }, { x: 232, y: 249 }, { x: 231, y: 250 }, { x: 230, y: 251 }, { x: 229, y: 252 }, { x: 228, y: 253 }, { x: 227, y: 254 }, { x: 226, y: 255 }, { x: 225, y: 256 }, { x: 224, y: 257 }, { x: 223, y: 258 }, { x: 222, y: 258 }, { x: 221, y: 259 }, { x: 220, y: 260 }, { x: 219, y: 261 }, { x: 218, y: 261 }, { x: 217, y: 262 }, { x: 216, y: 263 }, { x: 215, y: 264 }, { x: 214, y: 264 }, { x: 213, y: 265 }, { x: 212, y: 266 }, { x: 211, y: 266 }, { x: 210, y: 267 }, { x: 209, y: 268 }, { x: 208, y: 268 }, { x: 207, y: 269 }, { x: 206, y: 269 }, { x: 205, y: 270 }, { x: 204, y: 270 }, { x: 203, y: 271 }, { x: 202, y: 271 }, { x: 201, y: 272 }, { x: 200, y: 272 }, { x: 199, y: 273 }, { x: 198, y: 273 }, { x: 197, y: 274 }, { x: 195, y: 274 }, { x: 194, y: 275 }, { x: 193, y: 275 }, { x: 192, y: 276 }, { x: 190, y: 276 }, { x: 189, y: 277 }, { x: 187, y: 277 }, { x: 186, y: 278 }, { x: 183, y: 278 }, { x: 182, y: 279 }, { x: 179, y: 279 }, { x: 178, y: 280 }, { x: 174, y: 280 }, { x: 173, y: 281 }, { x: 168, y: 281 }, { x: 167, y: 282 }, { x: 159, y: 282 }, { x: 170, y: 21 }, { x: 134, y: 184 }, { x: 133, y: 185 }, { x: 133, y: 174 }, { x: 132, y: 173 }, { x: 132, y: 172 }, { x: 131, y: 171 }, { x: 131, y: 170 }, { x: 130, y: 169 }, { x: 129, y: 168 }, { x: 128, y: 167 }, { x: 127, y: 166 }, { x: 126, y: 165 }, { x: 125, y: 164 }, { x: 124, y: 163 }, { x: 123, y: 162 }, { x: 122, y: 162 }, { x: 121, y: 161 }, { x: 120, y: 160 }, { x: 119, y: 160 }, { x: 118, y: 159 }, { x: 120, y: 159 }, { x: 121, y: 158 }, { x: 122, y: 158 }, { x: 123, y: 157 }, { x: 124, y: 156 }, { x: 125, y: 155 }, { x: 126, y: 154 }, { x: 127, y: 153 }, { x: 127, y: 152 }, { x: 128, y: 151 }, { x: 128, y: 150 }, { x: 129, y: 149 }, { x: 129, y: 147 }, { x: 130, y: 146 }, { x: 130, y: 145 }, { x: 131, y: 144 }, { x: 131, y: 142 }, { x: 132, y: 141 }, { x: 132, y: 131 }, { x: 131, y: 130 }, { x: 131, y: 128 }, { x: 132, y: 129 }, { x: 134, y: 129 }, { x: 135, y: 130 }, { x: 141, y: 130 }, { x: 142, y: 129 }, { x: 145, y: 129 }, { x: 146, y: 128 }, { x: 148, y: 128 }, { x: 149, y: 127 }, { x: 150, y: 127 }, { x: 151, y: 126 }, { x: 152, y: 126 }, { x: 153, y: 125 }, { x: 154, y: 125 }, { x: 155, y: 124 }, { x: 166, y: 124 }, { x: 167, y: 125 }, { x: 169, y: 125 }, { x: 170, y: 126 }, { x: 172, y: 126 }, { x: 173, y: 127 }, { x: 174, y: 127 }, { x: 175, y: 128 }, { x: 175, y: 129 }, { x: 176, y: 130 }, { x: 177, y: 131 }, { x: 178, y: 132 }, { x: 179, y: 133 }, { x: 180, y: 134 }, { x: 181, y: 135 }, { x: 182, y: 136 }, { x: 183, y: 137 }, { x: 184, y: 138 }, { x: 185, y: 139 }, { x: 186, y: 140 }, { x: 187, y: 141 }, { x: 188, y: 142 }, { x: 189, y: 142 }, { x: 190, y: 143 }, { x: 191, y: 144 }, { x: 192, y: 144 }, { x: 192, y: 145 }, { x: 192, y: 146 }, { x: 191, y: 147 }, { x: 190, y: 148 }, { x: 189, y: 149 }, { x: 188, y: 150 }, { x: 187, y: 151 }, { x: 186, y: 152 }, { x: 185, y: 153 }, { x: 184, y: 154 }, { x: 183, y: 155 }, { x: 183, y: 156 }, { x: 182, y: 157 }, { x: 181, y: 158 }, { x: 181, y: 159 }, { x: 180, y: 160 }, { x: 180, y: 161 }, { x: 179, y: 162 }, { x: 178, y: 163 }, { x: 178, y: 164 }, { x: 177, y: 165 }, { x: 177, y: 166 }, { x: 176, y: 167 }, { x: 176, y: 168 }, { x: 175, y: 169 }, { x: 175, y: 171 }, { x: 174, y: 172 }, { x: 174, y: 174 }, { x: 173, y: 175 }, { x: 173, y: 177 }, { x: 172, y: 178 }, { x: 172, y: 184 }, { x: 171, y: 184 }, { x: 170, y: 183 }, { x: 169, y: 183 }, { x: 168, y: 182 }, { x: 167, y: 182 }, { x: 166, y: 181 }, { x: 163, y: 181 }, { x: 162, y: 180 }, { x: 159, y: 180 }, { x: 158, y: 179 }, { x: 147, y: 179 }, { x: 146, y: 180 }, { x: 143, y: 180 }, { x: 142, y: 181 }, { x: 140, y: 181 }, { x: 139, y: 182 }, { x: 137, y: 182 }, { x: 136, y: 183 }, { x: 135, y: 183 }, { x: 134, y: 184 }] };

var APF=function(){var h=document;this.cn=h.createElement("canvas");this.ctx=this.cn.getContext("2d");this.ih=this.iw=0;this.p=[];this.c=null;this.es=function(a,b){return a.ymn===b.ymn?a.xvl===b.xvl?a.ymx-b.ymx:a.xvl-b.xvl:a.ymn-b.ymn};this.ds=function(a,b,c,d){var e=
h.createElement("span");d+=2;e.style.cssText="position:absolute;top:"+b+"px;left:"+a+"px;width:"+c+"px;height:"+d+"px;";this.c.appendChild(e)};this.f=function(){var a=[],b=[],c,d,e=[],f,i,h,j=0,k=d=0;d=1;var l=0,m=0;this.c.innerHTML="";for(f=0;f<this.p.length;f++){c={};i=this.p[f];h=f===this.p.length-1?this.p[0]:this.p[f+1];c.ymx=i.y;if(h.y>c.ymx)c.ymx=h.y;if(c.ymx>m)m=c.ymx;c.ymn=i.y;if(h.y<c.ymn)c.ymn=h.y;if(c.ymn<l)l=c.ymn;c.xvl=parseInt(i.x,10);if(h.y<i.y)c.xvl=parseInt(h.x,10);if(c.xvl>j)j=c.xvl;
d=i.x-h.x;d===0?(c.m=NaN,c.oom=0):(c.m=(i.y-h.y)/d,c.oom=c.m===0?NaN:1/c.m);b.push(c)}for(f=0;f<b.length;f++)b[f].m!==0&&e.push(b[f]);e.sort(this.es);for(b=e[0].ymn;b<m;b++){d=0;g=[];for(f=0;f<e.length;f++)e[f].ymn===b?a.push(e[f]):g.push(e[f]);e=g.slice(0);a.sort(this.es);for(c=0;c<=j;c++)for(f=0;f<a.length;f++)Math.round(a[f].xvl)===c&&(d===0?(k=c,d=1):(d=c,d-=k,d===0&&(d=1),this.ds(k,b,d,1),d=0));g=[];for(f=0;f<a.length;f++)a[f].ymx!==b+1&&(a[f].xvl+=a[f].oom,g.push(a[f]));a=g.slice(0)}}};

  $('.alphapunch').each( function() {
    var fist = new APF();

    $(this).find('.aptarget').each( function() {
      $(this).wrap('<span style="display:inline-block;position:relative" />');
      $(this).append('<span class="apmask" id="apmask_' + this.id + '"></span>');

      fist.c = document.getElementById('apmask_' + this.id);
      fist.ds(0,0,this.offsetWidth,this.offsetHeight);
    });

    $(this).find('img').each( function() {
      $(this).wrap('<span style="display:inline-block;position:relative" />');
      $(this).after('<span class="apmask" id="apmask_' + this.id + '"></span>');

      fist.c = document.getElementById('apmask_' + this.id);
      fist.iw = this.offsetWidth;
      fist.ih = this.offsetHeight;
      fist.p = coords[this.id];
      fist.f();

      $('#apmask_' + this.id).click( function() {
        $('#' + this.id).click();
        return false;
      });
    });
  });
})();
</script>

</body></html>
